<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/normalize.min.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/extra.css">
</head>

<body>
    <header>
        <nav>
            <a href="ejercicio_1.html">Ejercicio 1</a>
            <a href="ejercicio_2.html">Ejercicio 2</a>
            <a href="ejercicio_3.html">Ejercicio 3</a>
            <a href="ejercicio_4.html">Ejercicio 4</a>
            <a href="ejercicio_5.html" class="active">Ejercicio 5</a>
            <a href="ejercicio_6.html">Ejercicio 6</a>
        </nav>
    </header>

    <section>
        <h1>Validación de email</h1>
        <p><label>Email:</label> <input name="email" type="email"></p>
        <p><label>Repetir Email:</label> <input name="email2" type="email"><span class="msg"></span></p>
    </section>

    <aside>
        <p>Al salir del campo email2 verificar si coincide el valor</p>
        <p>Si es así asignarle la clase "ok" definida extra.css</p>
        <p>Si no es así asignarle la clase "error" definida en extra.css</p>
    </aside>

    <script>
        /*VALIDAR LINK */
        let link = document.querySelector('a[href="ejercicio_6.html"]');

        link.onclick = function(event) { //parámetro mágico
            event.preventDefault();
            console.log(event.target); // qué elemento provocó el prevent

            let rta = confirm("Esta seguro de hacer el Ejercicio 6?");

            if (rta) {
                //Ir al ejercicio 6
                window.location = event.target.href;
            } else {
                alert("Cobarde!!");
            }

        }


        /*FIN VALIDAR LINK */

        /* 1) Seleccionar los campos por nombre utilizando la sintaxis CSS */
        var campo1 = document.querySelector('input[name="email"]');
        var campo2 = document.querySelector('input[name="email2"]');

        /* 2) Asignar la funcion validarEmail al evento correspondiente */
        campo2.onblur = validarEmail;

        function validarEmail() {
            /* 3) Si coinciden los valores, asignar la clase "ok", Sino... asignar la clase "error" */
            if (campo1.value == campo2.value) {
                campo1.classList.add("ok");
                campo2.classList.add("ok");
                campo1.classList.remove("error");
                campo2.classList.remove("error");
                campo2.nextElementSibling.innerText = "OK"
            } else {
                campo1.classList.add("error");
                campo2.classList.add("error");
                campo1.classList.remove("ok");
                campo2.classList.remove("ok");
                campo2.nextElementSibling.innerText = "ERROR: los emails no coinciden"
            }
        }
    </script>
</body>

</html>